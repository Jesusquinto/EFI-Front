<div fxLayout="row">
    <form [formGroup]="datos" class="w-100">
        <div class="form-row">
            <!-- // Informacion Principal  // -->
            <div class="col-md-12">
                <div class="my-2">
                    <div fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between center" class="w-100">
                        <div class="">
                            <a *ngIf="data.tipoForm == 0" class="my-2" style="font-size: 18px"><i
                                    class="fa fa-plus"></i>&nbsp;&nbsp;Nueva Empresa</a>
                            <a *ngIf="data.tipoForm == 1" class="my-2" style="font-size: 18px"><i
                                    class="fa fa-edit"></i>&nbsp;&nbsp;Editar Empresa </a>
                        </div>
                    </div>
                </div>
                <hr>

                <div class="form-row">
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Entidad Seleccionado <b class="text-danger">*</b></label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <div class="input-group-text" (click)="openTable()">
                                                <i class="tim-icons icon-zoom-split text-info"></i>
                                            </div>
                                        </div>
                                        <input readonly type="text" formControlName="nombreEntidad"
                                            class="form-control bg-white" placeholder="Seleccione la Entidad">
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="nombre">Nombre Empresa <b class="text-danger">*</b></label>
                                    <input type="text" formControlName="nombre" name="nombre" id="nombre"
                                        class="form-control" placeholder="Nombre Empresa">
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="nit">NIT <b class="text-danger">*</b></label>
                                    <input type="text" formControlName="nit" name="nit" id="nit" class="form-control"
                                        placeholder="NIT">
                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="form-group">
                                    <label for="orden">Orden <b class="text-danger">*</b></label>
                                    <input type="text" formControlName="orden" name="orden" id="orden"
                                        class="form-control" placeholder="NIT">
                                </div>
                            </div>

                            <div class="col-md-2">
                                <div class="form-group">
                                    <label for="licencia">Licencia <b class="text-danger">*</b></label>
                                    <input type="text" formControlName="licencia" name="licencia" id="licencia"
                                        class="form-control" placeholder="Licencia">
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="telefono">Telefono <b class="text-danger">*</b></label>
                                    <input type="text" formControlName="telefono" name="telefono" id="telefono"
                                        class="form-control" placeholder="Telefono">
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="direcciion">Direccion <b class="text-danger">*</b></label>
                                    <input type="text" formControlName="direccion" name="direccion" id="direccion"
                                        class="form-control" placeholder="Direccion">
                                </div>
                            </div>

                            <div class="col-md-12">
                                <hr>
                                <a class="my-2 text-info" style="font-size: 18px"><i
                                        class="fa fa-edit"></i>&nbsp;&nbsp;Informacion Contacto</a><br>

                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label for="contactoNombre">Contacto Nombre <b
                                                    class="text-danger">*</b></label>
                                            <input type="text" formControlName="contactoNombre" name="contactoNombre"
                                                id="contactoNombre" class="form-control" placeholder="Contacto Nombre">
                                        </div>
                                    </div>

                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label for="contactoTelefono">Contacto Telefono <b
                                                    class="text-danger">*</b></label>
                                            <input type="text" formControlName="contactoTelefono"
                                                name="contactoTelefono" id="contactoTelefono" class="form-control"
                                                placeholder="Contacto Nombre">
                                        </div>
                                    </div>

                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label for="contactoEmail">Contacto Email <b
                                                    class="text-danger">*</b></label>
                                            <input type="text" formControlName="contactoEmail" name="contactoEmail"
                                                id="contactoEmail" class="form-control" placeholder="Contacto Nombre">
                                        </div>
                                    </div>

                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label for="contactoCargo">Contacto Cargo <b
                                                    class="text-danger">*</b></label>
                                            <input type="text" formControlName="contactoCargo" name="contactoCargo"
                                                id="contactoCargo" class="form-control" placeholder="Contacto Nombre">
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="col-md-12">
                                <hr>
                                <div class="btn-group btn-group-sm" role="group" aria-label="Basic example">
                                    <button [disabled]="!datos.valid" (click)="submit()" type="button"
                                        class="btn btn-sm btn-simple btn-info"><i
                                            [ngClass]="data.tipoForm == 0 ? 'fa fa-save' : 'fa fa-edit'"></i>
                                        Guardar</button>
                                    <button (click)="close()" type="button" class="btn btn-sm btn-simple btn-info"><i
                                            class="fa fa-times"></i> Cancelar</button>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>




<p-dialog [(visible)]="display" [style]="{width: '70%', minWidth: '300px'}" [minY]="70" [baseZIndex]="10000"
    [closable]="false" showHeader="false">

    <p-header>
        <h4>
            <i class="tim-icons icon-bullet-list-67"></i>&nbsp; Listado de Indicadores Grupos
        </h4>
    </p-header>

    <div class="row">
        <div class="col-md-6">
            <button style="float: left !important;" (click)="closeTable()" type="button" rel="tooltip"
                class="btn btn-danger btn-sm btn-simple">
                <i class="tim-icons icon-simple-remove"></i>&nbsp; Cancelar
            </button>
        </div>
        <div class="col-md-6">
            <div class="input-group" style="width: 100%">
                <div class="input-group-prepend">
                    <div class="input-group-text bg-white">
                        <i class="tim-icons icon-zoom-split text-info"></i>
                    </div>
                </div>
                <input (keyup)="applyFilter($event.target.value)" type="text" class="form-control bg-white"
                    placeholder="Buscar por...">
            </div>
        </div>
    </div>

    <div class=" col-md-12">
        <div>
            <table mat-table [dataSource]="dataSource" matSort class="w-100">
                <ng-container matColumnDef="acciones">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Acciones </th>
                    <td mat-cell *matCellDef="let item">
                        <div class="row">
                            <button pTooltip="Editar Entidades" tooltipPosition="top" mat-icon-button
                                (click)="selectEntidad(item)">
                                <mat-icon class="mat-18 text-info">add</mat-icon>
                            </button>
                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="entidad">
                    <th style="width: 20%" mat-header-cell *matHeaderCellDef mat-sort-header> Entidad</th>
                    <td mat-cell *matCellDef="let item"> {{item.entidad}} </td>
                </ng-container>

                <ng-container matColumnDef="nit">
                    <th style="width: 20%" mat-header-cell *matHeaderCellDef mat-sort-header> Nit </th>
                    <td mat-cell *matCellDef="let item"> {{item.nit}} </td>
                </ng-container>

                <ng-container matColumnDef="correo">
                    <th style="width: 20%" mat-header-cell *matHeaderCellDef mat-sort-header> Correo </th>
                    <td mat-cell *matCellDef="let item"> {{item.correo}} </td>
                </ng-container>

                <ng-container matColumnDef="direccion">
                    <th style="width: 10%" mat-header-cell *matHeaderCellDef mat-sort-header> Direccion
                    </th>
                    <td mat-cell *matCellDef="let item"> {{item.direccion}} </td>
                </ng-container>

                <ng-container matColumnDef="telefonos">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Telefonos</th>
                    <td mat-cell *matCellDef="let item"> {{item.telefonos}} </td>
                </ng-container>

                <ng-container matColumnDef="departamento">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Departamento </th>
                    <td mat-cell *matCellDef="let item"> {{item.departamento}} </td>
                </ng-container>

                <ng-container matColumnDef="ciudad">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Ciudad </th>
                    <td mat-cell *matCellDef="let item"> {{item.ciudad}} </td>
                </ng-container>

                <ng-container matColumnDef="estado">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Estado </th>
                    <td mat-cell *matCellDef="let item">
                        <span *ngIf="item.estado == 'ACTIVO'" class="badge bg-success text-white"><i
                                class="fa fa-check-circle"></i> Activo</span>
                        <span *ngIf="item.estado != 'ACTIVO'" class="badge bg-danger text-white"><i
                                class="fa fa-ban"></i> Inactivo</span>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </div>
    </div>

</p-dialog>